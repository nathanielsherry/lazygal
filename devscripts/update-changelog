#!/bin/bash
# Small script to easily generate a ChangeLog from hg log.

project=Lazygal

HG=$(which hg)
AWK=$(which awk)

repo=$(dirname $0)/..

$HG log -R $repo |\
    $AWK -F'     '\
        '/^summary:/ {print "  * " $2}\
         /^tag:/ {gsub(/^tag:/,"");\
                  gsub(/\_/,".");\
                  gsub(/ /,"");
                  print "\nLazygal " $0
                 }'\
    > $repo/ChangeLog
